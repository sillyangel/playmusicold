<!DOCTYPE html>
<html>
<head>
    <title>Play!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <link rel="stylesheet" href="main.css">
    <link rel="manifest" href="app.webmanifest">
    <meta name="description" content="A simple audio player website by angel">
    <meta name="keywords" content="audio player, music, playmusic, angel">
    <meta name="author" content="sillyangel3">
    <meta name="theme-color" content="#222222"> <!-- Set the theme color to match your background/theme -->
    
    <!-- Open Graph meta tags for social sharing -->
    <meta property="og:title" content="Your PlayMusic Website">
    <meta property="og:description" content="A simple audio player website by angel">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sillyangel.github.io/playmusic"> <!-- Replace with your actual URL -->
    <meta property="og:image" content="./assets/logo/mlogo.png"> <!-- Replace with a link to your website's image -->
    
    <!-- Twitter Card meta tags for Twitter sharing -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Your PlayMusic Website">
    <meta name="twitter:description" content="A simple audio player website by angel">
    <meta name="twitter:image" content="./assets/logo/mlogo.png"> <!-- Replace with a link to your website's image -->
    <script>
    navigator.serviceWorker.register("sw.js")
    </script>
    <!-- Favicon (you can create a favicon.ico and place it in the root directory of your website) -->
    <link rel="icon" href="assets/logo/mlogo.png" type="image/png">
    
</head>
<body>
          <div class="sidebarmen">
            <img src="assets/logo/mlogo.png" width="50px" height="50px">
            <br>
                        <br>
                                    <br>
            <br>
            <ul>
               <!-- <li><a href="#home"><i class="fa-regular fa-user" style="color: #ffffff;"></i> </a></li> -->
                <li><button onclick="switchthingy('search')"><i class="fa-solid fa-magnifying-glass" style="color: #ffffff;"></i> </button></li>
                <li><button onclick="switchthingy('hom')"><i class="fa-solid fa-house" style="color: #ffffff;"></i> </button></li>
                <li><button onclick="switchthingy('lil')"><i class="fa-solid fa-lines-leaning" style="color: #ffffff;"></i> </button></li>
            </ul>
        </div>
         <div id="songselector" >
           <h2>Home</h2>
          <h1>Tyler the creator</h1>
          <button onclick="albumsec(0)"><img src="songs/tylerthecreator/wolf/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(1)"><img src="songs/tylerthecreator/flowerboy/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(2)"><img src="songs/tylerthecreator/igor/igorcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(3)"><img src="songs/tylerthecreator/cherrybomb/cherrybomb.png" width="100px" height="100px"></button>
          <button onclick="albumsec(4)"><img src="songs/tylerthecreator/goblin/Goblincover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(8)"><img src="songs/tylerthecreator/bas/bas.png" width="101px" height="100px"></button>
          <br>
          <h1>Arctic Monkeys</h1>
          <button onclick="albumsec(5)"><img src="songs/arcticmonkeys/am/albumcover.jpg" width="100px" height="100px"></button>
          <button onclick="albumsec(6)"><img src="songs/arcticmonkeys/humbug/albumcover.jpg" width="100px" height="100px"></button>
          <button onclick="albumsec(9)"><img src="songs/arcticmonkeys/wpsiatwin/albumcover.jpg" width="100px" height="100px"></button>
          <button onclick="albumsec(10)"><img src="songs/arcticmonkeys/fwn/albumcover.jpg" width="100px" height="100px"></button>
          <button onclick="albumsec(11)"><img src="songs/arcticmonkeys/sias/albumcover.jpg" width="100px" height="100px"></button>
          <button onclick="albumsec(12)"><img src="songs/arcticmonkeys/tbhc/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(13)"><img src="songs/arcticmonkeys/car/albumcover.jpg" width="100px" height="100px"></button>
          <br>
          <h1>Wallows</h1>
          <button onclick="albumsec(7)"><img src="songs/wallows/nonthinghappens/albumcover.png" width="100px" height="100px"></button>
          <br>
          <h1>Melanie Martinez</h1>
          <button onclick="albumsec(14)"><img src="songs/melanie/crybaby/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(15)"><img src="songs/melanie/k12/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(16)"><img src="songs/melanie/portals/albumcover.png" width="100px" height="100px"></button>
          <br>
          <h1>The Weekend</h1>
          <button onclick="albumsec(17)"><img src="songs/theweekend/kissland/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(18)"><img src="songs/theweekend/bbtm/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(19)"><img src="songs/theweekend/starboy/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(20)"><img src="songs/theweekend/afterhours/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(21)"><img src="songs/theweekend/dawnfm/albumcover.png" width="100px" height="100px"></button>
          <br>
          <h1>Laufey</h1>
          <button onclick="albumsec(22)"><img src="songs/laufey/bewitched/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(23)"><img src="songs/laufey/eikal/albumcover.png" width="100px" height="100px"></button>
          <br>
          
          <h1>Roddy Ricch</h1>
          <button onclick="albumsec(24)"><img src="songs/rr/llf/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(25)"><img src="songs/rr/pemfba/albumcover.png" width="100px" height="100px"></button>
          <br>
          <h1>Lemon Demon</h1>
          <button onclick="albumsec(26)"><img src="songs/ld/sp/albumcover.png" width="100px" height="100px"></button>
          <button onclick="albumsec(27)"><img src="songs/ld/cc/albumcover.png" width="100px" height="100px"></button>
          <br>
          <h1>The smiths</h1>
          <br>
          <h1>Gorillaz</h1>
          <br>
          <h1>Kayne West</h1>
          <br>
          <h1>Doja Cat</h1>
          <br>
          <h1>Elita</h1>
          <br>
          <h1>Ericdoa</h1>
          <br>
          <h1>Tv girl</h1>
          <br>
          <h1>Radiohead</h1>
          <br>
          <h1>The cure</h1>
          <br>
          <h1>MF DOOM</h1>
          <br>
          <h1></h1>
          <br>
          <br>
          <br>
          <br>
          <br>
                    <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          
          
        </div>
        <div style="display: none" id="searching">
          <h2>Search</h2>
          <input type="text" id="myInput" onkeyup="searchfunction()" name="search" placeholder="Search for songs">
          <ul id="list-holder">
          </ul>
                    <br>
          <br>
          <br>
          <br>
          <br>
                    <br>
          <br>
          <br>
          <br>
          <br>
        </div>
        <div style="display: none" id="library">
          <h2>Your Library</h2>
          <button onclick="createaplaylist()"><img src="assets/addplaylist.png" alt="createa playlist" width="120px" height="120px"></button>
        </div>
  <div class="audio-controls">
        <div class="album-cover">
            <img id="albumCover" src="assets/nonealbum.png" alt="Album Cover" width="60px" height="60px">
        </div>
          <div id="currentTrack"> </div>
            <button alt="" onclick="previousAlbum()"><i class="fas fa-chevron-left"></i></button>
            <button onclick="previousTrack()"><i class="fas fa-backward"></i></button>
            <button onclick="playPause()"><i class="fas fa-play"></i></button>
            <button onclick="skipTrack()"><i class="fas fa-forward"></i></button>
            <button onclick="nextAlbum()"><i class="fas fa-chevron-right"></i></button>
            <input type="range" id="volume" min="0" max="1" step="0.01" onchange="setVolume()">
            <div id="songTime">0:00</div>
            <progress id="progress" value="0" max="100" onclick="seek(event)"></progress>
            <div id="songDuration">0:00</div>
        </div>
    <audio id="myAudio" controls>
        Your browser does not support the audio element.
    </audio>
<script>
        var audio = document.getElementById("myAudio");
        var playButton = document.querySelector(".audio-controls button:nth-of-type(3)");
        var volumeControl = document.getElementById("volume");
        var progressBar = document.getElementById("progress");
        var currentTrackIndex = 0;
        var audioTracks = {
            "tylerthecreator/wolf": [
                "WOLF.mp3",
                "Jamba.mp3",
                "Cowboy.mp3",
                "Awkward.mp3",
                "Domo23.mp3",
                "Answer.mp3",
                "Slater.mp3",
                "48.mp3",
                "Colossus.mp3",
                "10 PartyIsntOver_Campfire_Bimmer.mp3",
                "IFHY.mp3",
                "Pigs.mp3",
                "Parking Lot.mp3",
                "Rusty.mp3",
                "Trashwang.mp3",
                "Treehome95.mp3",
                "Tamale.mp3",
                "Lone.mp3"
            ],
            "tylerthecreator/flowerboy": [
                "01 Foreword (feat. Rex Orange County).mp3",
                "02 Where This Flower Blooms (feat. Frank Ocean).mp3",
                "Sometimes....mp3",
                "04 See You Again (feat. Kali Uchis).mp3",
                "05 Who Dat Boy (feat. A$AP Rocky).mp3",
                "06 Pothole (feat. Jaden Smith).mp3",
                "07 Garden Shed (feat. Estelle).mp3",
                "08 Boredom (feat. Rex Orange County _ Anna of the North).mp3",
                "09 I Ain_t Got Time!.mp3",
                "10 911 _ Mr. Lonely (feat. Frank Ocean _ Steve Lacy).mp3",
                "11 Droppin _ Seeds (feat. Lil Wayne).mp3",
                "November.mp3",
                "Glitter.mp3",
                "Enjoy Right Now, Today.mp3"
            ],
            "tylerthecreator/igor": [
                "01 IGOR_S THEME (feat. Lil Uzi Vert _ Kali Uchis).mp3",
                "02 EARFQUAKE (feat. Playboi Carti _ Charlie Wilson).mp3",
                "03 I THINK (feat. Solange).mp3",
                "04 BOYFRIEND (feat. Charlie Wilson _ Santigold).mp3",
                "05 RUNNING OUT OF TIME (feat. Jessy Wilson).mp3",
                "06 NEW MAGIC WAND (feat. Santigold _ Jessy Wilson).mp3",
                "07 A BOY IS A GUN_.mp3",
                "08 PUPPET (feat. Kanye West).mp3",
                "09 WHAT_S GOOD (feat. Slowthai).mp3",
                "10 GONE, GONE _ THANK YOU (feat. CeeLo Green, Cullen Omori _ La Roux).mp3",
                "11 I DON_T LOVE YOU ANYMORE (feat. Charlie Wilson, Jessy Wilson _ Solange).mp3",
                "12 ARE WE STILL FRIENDS_ (feat. Pharell Williams).mp3"
            ],
            "tylerthecreator/cherrybomb": [
                "1 Deathcamp.mp3",
                "2 Buffalo.mp3",
                "3 PILOT.mp3",
                "4 RUN.mp3",
                "5 FIND YOUR WINGS.mp3",
                "6 Cherry Bomb.mp3",
                "7 BLOW MY LOAD.mp3",
                "8 2SEATER.mp3",
                "9 THE BROWN STAINS OF DARKEESE.mp3",
                "10 F YOUNG _ PERFECT.mp3",
                "11 SMUCKERS.mp3",
                "12 KEEP DA O_S.mp3",
                "13 OKAGA, CA.mp3"
            ],
            "tylerthecreator/goblin": [
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              "",
              ""
            ],
            "arcticmonkeys/am": [
                "01 - Do I Wanna Know.mp3",
                "02 - R U Mine.mp3",
                "03 - One For the Road.mp3",
                "04 - Arabella.mp3",
                "05 - I Want It All.mp3",
                "06 - No. 1 Party Anthem.mp3",
                "07 - Mad Sounds.mp3",
                "08 - Fireside.mp3",
                "09 - Why'd You Only Call Me When You're High.mp3",
                "10 - Snap Out of It.mp3",
                "11 - Knee Socks.mp3",
                "12 - I Wanna Be Yours.mp3"
            ],
            "arcticmonkeys/humbug": [
                "01. My Propeller.mp3",
                "02. Crying Lightning.mp3",
                "03. Dangerous Animals.mp3",
                "04. Secret Door.mp3",
                "05. Potion Approaching.mp3",
                "06. Fire And The Thud.mp3",
                "07. Cornerstone.mp3",
                "08. Dance Little Liar.mp3",
                "09. pretty visitors.mp3",
                "10 the jeweller's hands.mp3",
                "11_red right hand(2)(2).mp3"
            ],
            "wallows/nonthinghappens": [
                "Only Friend.mp3",
                "Treacherous Doctor.mp3",
                "Sidelines.mp3",
                "Are You Bored Yet (feat. Clairo).mp3",
                "Scrawny.mp3",
                "Ice Cold Pool.mp3",
                "Worlds Apart.mp3",
                "What You Like.mp3",
                "Remember When.mp3",
                "I_m Full.mp3",
                "Do Not Wait.mp3"
            ],
            "tylerthecreator/bas": [
              ""
            ],
            "arcticmonkeys/wpsiatwin": [
              "01 The View from the Afternoon.mp3",
              "02 I Bet You Look Good on the Dancefloor.mp3",
              "03 Fake Tales of San Francisco.mp3",
              "04 Dancing Shoes.mp3",
              "05 You Probably Couldn't See for the Lights But You Were Staring.mp3",
              "06 Still Take You Home.mp3",
              "07 Riot Van.mp3",
              "08 Red Light Indicates Doors Are Secured.mp3",
              "09 Mardy Bum.mp3",
              "10 Perhaps Vampires Is a Bit Strong But.mp3",
              "11 When the Sun Goes Down.mp3",
              "12 From the Ritz to the Rubble.mp3",
              "13 A Certain Romance.mp3",
            ],
            "arcticmonkeys/fwn": [
              "01 Brainstorm.mp3",
              "02 Teddy Picker.mp3",
              "03 D is For Dangerous.mp3",
              "04 Balaclava.mp3",
              "05 Fluorescent Adolescent.mp3",
              "06 Only Ones Who Know.mp3",
              "07 Do Me a Favour.mp3",
              "08 This House Is A Circus.mp3",
              "09 If You Were There, Beware.mp3",
              "10 The Bad Thing.mp3",
              "11 Old Yellow Bricks.mp3",
              "12 505.mp3",
            ],
            "arcticmonkeys/sias": [
              ""
            ],
            "arcticmonkeys/tbhc": [
              ""
            ],
            "arcticmonkeys/car": [
              ""
            ],
            "melanie/crybaby": [],
            "melanie/k12": [],
            "melanie/portals": [],
            "theweekend/kissland": [],
            "theweekend/bbtm": [],
            "theweekend/starboy": [],
            "theweekend/afterhours": [],
            "theweekend/dawnfm": [],
            "laufey/bewitched": [],
            "laufey/eikal": [],
            "rr/llf": [],
            "rr/pemfba": [],
            "ld/sp": [],
            "ld/cc": []
        };
        var currentAlbum = "tylerthecreator/wolf";
        let albums = [
            { artist: "Tyler, The Creator", album: "Wolf", folder: "tylerthecreator/wolf", image: "songs/tylerthecreator/wolf/albumcover.png" },
            { artist: "Tyler, The Creator", album: "Flower Boy", folder: "tylerthecreator/flowerboy", image: "songs/tylerthecreator/flowerboy/albumcover.png" },
            { artist: "Tyler, The Creator", album: "Igor", folder: "tylerthecreator/igor", image: "songs/tylerthecreator/igor/igorcover.png" },
            { artist: "Tyler, The Creator", album: "Cherry Bomb", folder: "tylerthecreator/cherrybomb", image: "songs/tylerthecreator/cherrybomb/cherrybomb.png" },
            { artist: "Tyler, The Creator", album: "Goblin", folder: "tylerthecreator/goblin", image: "songs/tylerthecreator/goblin/Goblincover.png" },
            { artist: "Arctic Monkeys", album: "AM", folder: "arcticmonkeys/am", image: "songs/arcticmonkeys/am/albumcover.jpg"},
            { artist: "Arctic Monkeys", album: "Humbug", folder: "arcticmonkeys/humbug", image: "songs/arcticmonkeys/humbug/albumcover.jpg"},
            { artist: "Wallows", album: "Nothing Happens", folder: "wallows/nonthinghappens", image: "songs/wallows/nonthinghappens/albumcover.png"},
            { artist: "Tyler, The Creator", album: "Bastard", folder: "tylerthecreator/bas", image: "songs/tylerthecreator/bas/bas.png" },
            { artist: "Arctic Monkeys", album: "Whatever People Say I Am, That's What I'm Not", folder: "arcticmonkeys/wpsiatwin", image: "songs/arcticmonkeys/wpsiatwin/albumcover.jpg"},
            { artist: "Arctic Monkeys", album: "Favourite Worst Nightmare", folder: "arcticmonkeys/fwn", image: "songs/arcticmonkeys/fwn/albumcover.jpg"},
            { artist: "Arctic Monkeys", album: "Suck It and See", folder: "arcticmonkeys/sias", image: "songs/arcticmonkeys/sias/albumcover.jpg"},
            { artist: "Arctic Monkeys", album: "Tranquility Base Hotel & Casino", folder: "arcticmonkeys/tbhc", image: "songs/arcticmonkeys/tbhc/albumcover.png"},
            { artist: "Arctic Monkeys", album: "The Car", folder: "arcticmonkeys/car", image: "songs/arcticmonkeys/car/albumcover.jpg"},
            { artist: "Melanie Martinez", album: "Crybaby", folder: "melanie/crybaby", image: "songs/melanie/crybaby/albumcover.png"},
            { artist: "Melanie Martinez", album: "K-12", folder: "melanie/k12", image: "songs/melanie/k12/albumcover.png"},
            { artist: "Melanie Martinez", album: "Portals", folder: "melanie/portals", image: "songs/melanie/portals/albumcover.png"},
            { artist: "The weeknd", album: "Kiss Land", folder: "theweekend/kissland", image: "songs/theweekend/kissland/albumcover.png"},
            { artist: "The weeknd", album: "Beauty Behind the Madness", folder: "theweekend/bbtm", image: "songs/theweekend/bbtm/albumcover.png"},
            { artist: "The weeknd", album: "starboy", folder: "theweekend/starboy", image: "songs/theweekend/starboy/albumcover.png"},
            { artist: "The weeknd", album: "Afterhours", folder: "theweekend/afterhours", image: "songs/theweekend/afterhours/albumcover.png"},
            { artist: "The weeknd", album: "Dawnfm", folder: "theweekend/dawnfm", image: "songs/theweekend/dawnfm/albumcover.png"},
            { artist: "Laufey", album: "Bewitched", folder: "laufey/bewitched", image: "songs/laufey/bewitched/albumcover.png"},
            { artist: "Laufey", album: "Everything I know about love", folder: "laufey/eikal", image: "songs/laufey/eikal/albumcover.png"},
            { artist: "Roddy Ricch", album: "Life Lives fast", folder: "rr/llf", image: "songs/rr/llf/albumcover.png"},
            { artist: "Roddy Ricch", album: "Please excuse me for being antisocial", folder: "rr/pemfba", image: "songs/rr/pemfba/albumcover.png"},
            { artist: "Lemon Demon", album: "Spirit phone", folder: "ld/sp", image: "songs/ld/sp/albumcover.png"},
            { artist: "Lemon Demon", album: "Clown", folder: "ld/cc", image: "songs/ld/cc/albumcover.png"}
            // Add more albums here
        ];
	var currentAlbumIndex = 0;
	var currentTrackText = document.getElementById("currentTrack");

	function loadTrack() {
		var trackPath = audioTracks[currentAlbum][currentTrackIndex];
		audio.src = "songs/" + currentAlbum + "/" + trackPath;
		audio.load();
		updateTrackText();
		mediathinggy();
	}

	function playPause() {
		if (audio.paused) {
			audio.play();
			playButton.innerHTML = '<i class="fas fa-pause"></i>';
		} else {
			audio.pause();
			playButton.innerHTML = '<i class="fas fa-play"></i>';
		}
	}

	function setVolume() {
		audio.volume = volumeControl.value;
	}

	function skipTrack() {
		currentTrackIndex++;
		if (currentTrackIndex >= audioTracks[currentAlbum].length) {
			currentTrackIndex = 0; // Loop back to the first track
		}
		loadTrack();
		audio.play();
	}

	function previousTrack() {
		currentTrackIndex--;
		if (currentTrackIndex < 0) {
			currentTrackIndex = audioTracks[currentAlbum].length - 1; // Go to the last track
		}
		loadTrack();
		audio.play();
	}

	function seek(event) {
		const percent = event.offsetX / progressBar.offsetWidth;
		const seekTime = percent * audio.duration;
		audio.currentTime = seekTime;
	}
	// Modify the updateAlbumCover function
	function updateAlbumCover() {
		// Get the album cover image element
		var albumCover = document.getElementById("albumCover");
		// Get the selected album object
		var selectedAlbum = albums[currentAlbumIndex];
		// Set the src attribute to the image location specified in the album object
		albumCover.src = selectedAlbum.image;
		
	}
	// Call the updateAlbumCover function when changing albums
	function nextAlbum() {
		currentAlbumIndex++;
		if (currentAlbumIndex >= albums.length) {
			currentAlbumIndex = 0; // Loop back to the first album
		}
		currentAlbum = albums[currentAlbumIndex].folder;
		currentTrackIndex = 0;
		// Check if audioTracks[currentAlbum] exists before loading
		if (audioTracks[currentAlbum]) {
			loadTrack();
			audio.play();
			// Update the album cover image
			updateAlbumCover();
		} else {
			// Handle the case when the album is not found
			console.error("Album not found: " + currentAlbum);
		}
	}

	function previousAlbum() {
		currentAlbumIndex--;
		if (currentAlbumIndex < 0) {
			currentAlbumIndex = albums.length - 1; // Go to the last album
		}
		currentAlbum = albums[currentAlbumIndex].folder;
		currentTrackIndex = 0;
		loadTrack();
		audio.play();
		// Update the album cover image
		updateAlbumCover();
	}
	audio.addEventListener("timeupdate", function() {
		var currentTime = audio.currentTime;
		var duration = audio.duration;
		// Check if duration is a finite number before calculating percentComplete
		if (isFinite(duration)) {
			var percentComplete = (currentTime / duration) * 100;
			progressBar.value = percentComplete;
		}
	});
	// Load the first track when the page loads
	loadTrack();
	// Event listener for when the current track ends
	audio.addEventListener("ended", function() {
		// Play the next track automatically
		skipTrack();
	});

	function updateTrackText() {
		var artist = albums[currentAlbumIndex].artist;
		var album = albums[currentAlbumIndex].album;
		var track = audioTracks[currentAlbum][currentTrackIndex];
		currentTrackText.textContent = artist + " - " + album + " - " + track;
	}
	// Add these lines to update the song duration and current time
	var songTimeElement = document.getElementById("songTime");
	var songDurationElement = document.getElementById("songDuration");
	audio.addEventListener("timeupdate", function() {
		var currentTime = audio.currentTime;
		var duration = audio.duration;
		// Check if duration is a finite number before calculating percentComplete
		if (isFinite(duration)) {
			var percentComplete = (currentTime / duration) * 100;
			progressBar.value = percentComplete;
			// Update the song duration and current time
			var currentMinutes = Math.floor(currentTime / 60);
			var currentSeconds = Math.floor(currentTime % 60);
			var durationMinutes = Math.floor(duration / 60);
			var durationSeconds = Math.floor(duration % 60);
			// Display current time and duration in the format "M:SS"
			songTimeElement.textContent = currentMinutes + ":" + (currentSeconds < 10 ? "0" : "") + currentSeconds;
			songDurationElement.textContent = durationMinutes + ":" + (durationSeconds < 10 ? "0" : "") + durationSeconds;
		}
	});
	function albumsec(albumnumber) {
	  currentAlbumIndex = albumnumber
	  currentAlbum = albums[currentAlbumIndex].folder;
		currentTrackIndex = 0;
		loadTrack();
		audio.play();
		// Update the album cover image
		updateAlbumCover();

	}
	function mediathinggy() {
    if ("mediaSession" in navigator) {
  navigator.mediaSession.metadata = new MediaMetadata({
    title: audioTracks[currentAlbum][currentTrackIndex],
    artist: albums[currentAlbumIndex].artist,
    album: albums[currentAlbumIndex].album,
    artwork: [
      {
        src: albums[currentAlbumIndex].image,
        sizes: "96x96",
        type: "image/png",
      },
      {
        src: albums[currentAlbumIndex].image,
        sizes: "128x128",
        type: "image/png",
      },
      {
        src: albums[currentAlbumIndex].image,
        sizes: "192x192",
        type: "image/png",
      },
      {
        src: albums[currentAlbumIndex].image,
        sizes: "256x256",
        type: "image/png",
      },
      {
        src: albums[currentAlbumIndex].image,
        sizes: "384x384",
        type: "image/png",
      },
      {
        src: albums[currentAlbumIndex].image,
        sizes: "512x512",
        type: "image/png",
      },
    ],
  });


  navigator.mediaSession.setActionHandler("play", () => {
    playPause();
  });
  navigator.mediaSession.setActionHandler("pause", () => {
    playPause();
  });
  /*
  navigator.mediaSession.setActionHandler("seekbackward", () => {
    
  });
  navigator.mediaSession.setActionHandler("seekforward", () => {
    
  });
  navigator.mediaSession.setActionHandler("seekto", () => {

  });*/
  navigator.mediaSession.setActionHandler("previoustrack", () => {
    previousTrack();
  });
  navigator.mediaSession.setActionHandler("nexttrack", () => {
    skipTrack();
  });

}
}
function switchthingy(st) {
  var home = document.getElementById("songselector")
  var search = document.getElementById("searching")
  var libaraby = document.getElementById("library")
  if (st == "hom") {
    home.style.display = "block";
    search.style.display = "none";
    libaraby.style.display = "none";
  } else if (st == "lil"){
    home.style.display = "none";
    search.style.display = "none";
    libaraby.style.display = "block";
  } else {
    home.style.display = "none";
    search.style.display = "block";
    libaraby.style.display = "none";
  }
  
  
}

function searchfunction() {
  let input = document.getElementById('myInput').value.toLowerCase();
  let x = document.querySelector('#list-holder');
  x.innerHTML = "";

  for (i = 0; i < albums.length; i++) {
    let obj = albums[i];
    let albumName = obj.album.toLowerCase();
    let artistName = obj.artist.toLowerCase();

    if (albumName.includes(input) || artistName.includes(input)) {
      const elem = document.createElement("li");
      elem.innerHTML = `${obj.album} - ${obj.artist}`;
      x.appendChild(elem);
    }
  }
}

function createaplaylist() {
  var nameofplaylist = prompt("Name of new playlist?");
  var urltonewplaylistimg = prompt("URL for the playlist image?");
  localStorage.setItem("playlist", nameofplaylist);
  localStorage.setItem("playlistimg", urltonewplaylistimg); // Store the playlist image URL
}

function createaplaylist() {
  var nameofplaylist = prompt("Name of new playlist?");
  var urltonewplaylistimg = prompt("URL for the playlist image?");
  localStorage.setItem("playlist", nameofplaylist);
  localStorage.setItem("playlistimg", urltonewplaylistimg); // Store the playlist image URL
}

// Retrieve playlist name and image URL from localStorage
var nameofoldplaylist = localStorage.getItem("playlist");
var imageofthenewplaylist = localStorage.getItem("playlistimg");

const div = document.getElementById('library'); // Use 'lilbrary' as the ID
const li = document.createElement('div');

// Create a button element and set its text and click behavior
const button = document.createElement('button');

// Create an image element and set its attributes
const imagenewplaylist = document.createElement('img');
imagenewplaylist.src = imageofthenewplaylist; // Set the image source
imagenewplaylist.width = "120";
imagenewplaylist.height = "120";

// Append the image to the button
button.appendChild(imagenewplaylist);

// Append the button to the div with ID 'lilbrary'
li.appendChild(button);
div.appendChild(li);

    </script>
</body>
</html>
